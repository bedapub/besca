

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>adding new functions to besca &mdash; BESCA 2.3 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-dataframe.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="besca standard pipeline" href="besca_standard_pipeline.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> BESCA
          

          
          </a>

          
            
            
              <div class="version">
                2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="besca.html">besca</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">code examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="besca_standard_pipeline.html">standard pipeline</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">adding new functions to besca</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#finding-the-right-place-for-your-function-within-besca">finding the right place for your function within besca</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-include-your-function-in-your-chosen-location">how to include your function in your chosen location</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documenting-your-function">documenting your function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#automatically-generated-documentation-using-docstrings">automatically generated documentation using DocStrings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#including-example-code-output-in-documentation">including example code output in documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generating-more-in-depth-code-examples">generating more in-depth code examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-gallery-example">creating a gallery example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#best-coding-practices">best coding practices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#error-messages">error messages</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BESCA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>adding new functions to besca</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/adding_new_functions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="adding-new-functions-to-besca">
<span id="adding-new-functions"></span><h1>adding new functions to besca<a class="headerlink" href="#adding-new-functions-to-besca" title="Permalink to this headline">¶</a></h1>
<p>We look forward to having all of your useful python functions/scripts for scRNA seq analysis included in besca. Since most of the documentation for this package is generated automatically this documentation will walk you through properly annotating your function for inclusion in besca. You will also find information on how to include example output from your function or additional text.</p>
<div class="section" id="finding-the-right-place-for-your-function-within-besca">
<span id="finding-the-right-place-for-functions"></span><h2>finding the right place for your function within besca<a class="headerlink" href="#finding-the-right-place-for-your-function-within-besca" title="Permalink to this headline">¶</a></h2>
<p>The besca package has been divided into three main submodules and additional supporting modules. The core subpackages contain useful functions for scRNA seq analysis, the import/export submodules contain functions to read and write data using our FAIR file formats, and the standard workflow subpackage only contains functions that have been specifically optimized for use in our standard processing pipeline.</p>
<img alt="_images/besca_outline.jpg" class="align-center" src="_images/besca_outline.jpg" />
<p>Depending on what your function does you will need to include it in the correct subarea of besca. The graphic outline of the besca package above gives you a rough idea of where it might make sense to include your package. If in doubt, discuss with your colleagues.</p>
</div>
<div class="section" id="how-to-include-your-function-in-your-chosen-location">
<span id="besca-include-function-correct-location"></span><h2>how to include your function in your chosen location<a class="headerlink" href="#how-to-include-your-function-in-your-chosen-location" title="Permalink to this headline">¶</a></h2>
<div class="sidebar">
<p class="sidebar-title">Example</p>
<p>for a function called <code class="code docutils literal notranslate"><span class="pre">add_plot</span></code> contained in the file <code class="code docutils literal notranslate"><span class="pre">_plotting_functions.py</span></code> under the submodule plotting you would open plotting’s <code class="code docutils literal notranslate"><span class="pre">__init__.py</span></code> file (contained in the pl folder in the main besca code directory) and append <code class="code docutils literal notranslate"><span class="pre">from</span> <span class="pre">_plotting_functions</span></code> <code class="code docutils literal notranslate"><span class="pre">import</span> <span class="pre">add_plot</span></code>. If you wished to import the function under the name <code class="code docutils literal notranslate"><span class="pre">special_name</span></code> instead of <code class="code docutils literal notranslate"><span class="pre">add_plot</span></code> then you would append <code class="code docutils literal notranslate"><span class="pre">from</span> <span class="pre">_plotting_functions</span></code> <code class="code docutils literal notranslate"><span class="pre">import</span> <span class="pre">add_plot</span> <span class="pre">as</span> <span class="pre">special_name</span></code> instead.</p>
</div>
<ol class="arabic simple">
<li><p>make a new python file (ending in <code class="code docutils literal notranslate"><span class="pre">.py</span></code>) which carries a descriptive name describing what the functions contained within do. Please ensure that the name of the file starts with an underscore so that it is not automatically imported into the module (so for example <code class="code docutils literal notranslate"><span class="pre">_my_functions.py</span></code>). Alternatively, you can also append your function to an existing file if this makes more sense (see <a class="reference internal" href="#finding-the-right-place-for-functions"><span class="std std-ref">here</span></a>).</p></li>
<li><p>Write and document your function (see sections <a class="reference internal" href="#doc-your-function"><span class="std std-ref">below</span></a> for more details). Please try and adhere to python best coding practices for writing a function and also ensure that your function ends with a <code class="code docutils literal notranslate"><span class="pre">return()</span></code> statement.</p></li>
<li><p>Import the function into the <code class="code docutils literal notranslate"><span class="pre">__init__.py</span></code> file of the subpackage under the name you would like it to show up under in besca. This will make your function available within besca.</p></li>
<li><p>Add the function to the <code class="code docutils literal notranslate"><span class="pre">__all__</span></code> statement in the <code class="code docutils literal notranslate"><span class="pre">__init__.py</span></code> file so that its documentation will automatically be added.</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text"><code class="code docutils literal notranslate"><span class="pre">__init__.py</span></code> of plotting module</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">._filter_threshold_plots</span> <span class="kn">import</span> <span class="n">kp_genes</span><span class="p">,</span> <span class="n">kp_counts</span><span class="p">,</span> <span class="n">kp_cells</span><span class="p">,</span> <span class="n">max_counts</span><span class="p">,</span> <span class="n">max_genes</span><span class="p">,</span> <span class="n">max_mito</span>
<span class="kn">from</span> <span class="nn">._split_gene_expression</span> <span class="kn">import</span> <span class="n">gene_expr_split</span><span class="p">,</span> <span class="n">gene_expr_split_stacked</span>
<span class="kn">from</span> <span class="nn">._celltype_quantification</span> <span class="kn">import</span> <span class="n">celllabel_quant_boxplot</span><span class="p">,</span> <span class="n">celllabel_quant_stackedbar</span>
<span class="kn">from</span> <span class="nn">._qc_plots</span> <span class="kn">import</span> <span class="n">dropouts</span><span class="p">,</span> <span class="n">librarysize_overview</span><span class="p">,</span> <span class="n">detected_genes</span><span class="p">,</span> <span class="n">library_size</span><span class="p">,</span> <span class="n">transcript_capture_efficiency</span><span class="p">,</span> <span class="n">top_genes_counts</span>
<span class="kn">from</span> <span class="nn">._general</span> <span class="kn">import</span> <span class="n">stacked_split_violin</span><span class="p">,</span> <span class="n">box_per_ind</span>
<span class="kn">from</span> <span class="nn">._dot_heatmap</span> <span class="kn">import</span> <span class="n">dot_heatmap</span><span class="p">,</span> <span class="n">dot_heatmap_split</span><span class="p">,</span> <span class="n">dot_heatmap_split_greyscale</span>
<span class="kn">from</span> <span class="nn">._update_palette</span> <span class="kn">import</span> <span class="n">update_qualitative_palette</span>
<span class="kn">from</span> <span class="nn">._nomenclature_network</span> <span class="kn">import</span> <span class="n">nomenclature_network</span>
<span class="kn">from</span> <span class="nn">._riverplot</span> <span class="kn">import</span> <span class="n">riverplot_2categories</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kp_genes&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;kp_counts&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;kp_cells&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;max_counts&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;max_genes&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;max_mito&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;dropouts&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;detected_genes&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;library_size&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;librarysize_overview&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;transcript_capture_efficiency&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;top_genes_counts&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;gene_expr_split&quot;</span><span class="p">,</span>
           <span class="s2">&quot;gene_expr_split_stacked&quot;</span><span class="p">,</span>
           <span class="s2">&quot;box_per_ind&quot;</span><span class="p">,</span>
           <span class="s2">&quot;stacked_split_violin&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;celllabel_quant_boxplot&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;celllabel_quant_stackedbar&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;dot_heatmap&quot;</span><span class="p">,</span>
           <span class="s2">&quot;dot_heatmap_split&quot;</span><span class="p">,</span>
           <span class="s2">&quot;dot_heatmap_split_greyscale&quot;</span><span class="p">,</span>
           <span class="s2">&quot;update_qualitative_palette&quot;</span><span class="p">,</span>
           <span class="s2">&quot;nomenclature_network&quot;</span><span class="p">,</span>
           <span class="s2">&quot;riverplot_2categories&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>in case you are making a new submodule, please use the existing submodules e.g. the rc submodule of the tl package as an example for the correct structure</p>
</div>
</div>
<div class="section" id="documenting-your-function">
<span id="doc-your-function"></span><h2>documenting your function<a class="headerlink" href="#documenting-your-function" title="Permalink to this headline">¶</a></h2>
<p>As with all shared resources, documenting your work is essential. Please always ensure to document any functions that you add to besca, so that others understand what the function does and how they can use it. Ideally, if applicable (e.g. by plotting functions) you would also include a simple example of your function that demonstrates how it works. Also please ensure to document the code you add to besca as much as possible so that others can understand your work and help in fixing any bugs that might crop up. This section will give you a brief overview of how to include function documentation in besca. For the actual contents of the documentation please use best common practices.</p>
<div class="section" id="automatically-generated-documentation-using-docstrings">
<h3>automatically generated documentation using DocStrings<a class="headerlink" href="#automatically-generated-documentation-using-docstrings" title="Permalink to this headline">¶</a></h3>
<p>Most of the package documentation is generated automatically using DocStrings that are included in the source code. This makes the documentation process easier since annotations that are already included in the source code can easily be used as a basis for the documentation. Also this keeps everything nicely in one place.</p>
<p>Here is the source code for an example function with the relevant DocStrings</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function_name</span><span class="p">(</span><span class="n">param1</span> <span class="o">=</span> <span class="s1">&#39;default_value1&#39;</span><span class="p">,</span>
                  <span class="n">param2</span> <span class="o">=</span> <span class="s1">&#39;default_value2&#39;</span><span class="p">,</span>
                  <span class="n">param3</span> <span class="o">=</span> <span class="s1">&#39;default_value3&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;one-line function description that shows up in summaries.</span>

<span class="sd">    more extensive multi line function description explaining exactly what the function </span>
<span class="sd">    does and is intended for examples for code execution of the function can also be </span>
<span class="sd">    provided here</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    param1: `type` | default = default_value1</span>
<span class="sd">        brief description of what param1 controls and to what it should be set</span>
<span class="sd">    param2: `type` | default = default_value2</span>
<span class="sd">        brief description of what param1 controls and to what it should be set</span>
<span class="sd">    param3: `type` | default = default_value3</span>
<span class="sd">        brief description of what param1 controls and to what it should be set</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Type</span>
<span class="sd">        Information on what the function returns </span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>

<span class="sd">    &gt;&gt;&gt; #insert example code here</span>
<span class="sd">    &gt;&gt;&gt; 1 + 1</span>
<span class="sd">    &gt;&gt;&gt; # this code is only displayed not executed</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#function body</span>
    <span class="c1">#do something here</span>
</pre></div>
</div>
<p>This will result in an automatically generated documentation that looks like this:</p>
<span class="target" id="module-besca.examples.example_function"></span><dl class="py function">
<dt id="besca.examples.example_function.function_name">
<code class="sig-prename descclassname">besca.examples.example_function.</code><code class="sig-name descname">function_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">param1</span><span class="o">=</span><span class="default_value">'default_value1'</span></em>, <em class="sig-param"><span class="n">param2</span><span class="o">=</span><span class="default_value">'default_value2'</span></em>, <em class="sig-param"><span class="n">param3</span><span class="o">=</span><span class="default_value">'default_value3'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/besca/examples/example_function.html#function_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#besca.examples.example_function.function_name" title="Permalink to this definition">¶</a></dt>
<dd><p>one-line function description that shows up in summaries.</p>
<p>more extensive multi line function description explaining exactly what the function
does and is intended for examples for code execution of the function can also be
provided here</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param1</strong> (<cite>type</cite> | default = default_value1) – brief description of what param1 controls and to what it should be set</p></li>
<li><p><strong>param2</strong> (<cite>type</cite> | default = default_value2) – brief description of what param1 controls and to what it should be set</p></li>
<li><p><strong>param3</strong> (<cite>type</cite> | default = default_value3) – brief description of what param1 controls and to what it should be set</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Information on what the function returns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Type</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#insert example code here</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># this code is only displayed not executed</span>
</pre></div>
</div>
</dd></dl>

<p>The code that is displayed under the heading “Example” will only be displayed as code (with correct syntax highlighting), but it will not be executed. To include codeoutput as an example please see <a class="reference internal" href="#include-example-code-output"><span class="std std-ref">including example code output in documentation</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>reStructured Text is white space sensitive and highly dependent on correct formating. Please especially pay attention to the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>always use spaces instead of tabs to indent (in most text editors this can be set as the default)</p></li>
<li><p>use unix end of line formating not windows</p></li>
<li><p>ensure that you have a blank line at the end of the DocString and a blank line after each paragraph (otherwise the displayed text will be indented)</p></li>
</ul>
</div></blockquote>
</div>
<p>For more information on DocStrings please refer <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.15.0/docs/howto_document.html">here</a>. We use the extension numpydoc to generate our docstrings since they are also nicely readable in their raw format.</p>
<p>You can find a primer on using reStructured text <a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html">here</a></p>
</div>
<div class="section" id="including-example-code-output-in-documentation">
<span id="include-example-code-output"></span><h3>including example code output in documentation<a class="headerlink" href="#including-example-code-output-in-documentation" title="Permalink to this headline">¶</a></h3>
<p>It is very simple to include an example plot  in the function documentation. Below the Example header in the docstring you can add the plot directive as outlined below followed by the code needed to generate the plot.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">...</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">Description of your example.</span>

<span class="sd">&gt;&gt;&gt; # this is code that will be displayed but not executed</span>
<span class="sd">&gt;&gt;&gt; # it should be a duplicate of the code used to generate the plot </span>
<span class="sd">&gt;&gt;&gt; #  people will not be able to see how you generated the plot</span>
<span class="sd">&gt;&gt;&gt; ## plotting code 1</span>
<span class="sd">&gt;&gt;&gt; ## plotting code 2</span>

<span class="sd">.. plot:: </span>

<span class="sd">    &gt;&gt;&gt; # this is code that will be displayed but not executed</span>
<span class="sd">    &gt;&gt;&gt; # it should be a duplicate of the code used to generate the plot </span>
<span class="sd">    &gt;&gt;&gt; #  people will not be able to see how you generated the plot</span>
<span class="sd">    &gt;&gt;&gt; ## plotting code 1</span>
<span class="sd">    &gt;&gt;&gt; ## plotting code 2</span>
<span class="sd">    </span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="generating-more-in-depth-code-examples">
<span id="indepth-code-examples"></span><h3>generating more in-depth code examples<a class="headerlink" href="#generating-more-in-depth-code-examples" title="Permalink to this headline">¶</a></h3>
<p>Besca’s documentation includes a code gallery generated using the <a class="reference external" href="https://sphinx-gallery.readthedocs.io/en/latest/">sphinx gallery extension</a>. This extension gives you the possibility to include longer code examples in besca that can be downloaded by the user as a jupyter notebook. This is the ideal place to document a set of functions you have added to besca that were intended to perform a certain workflow. It is also a good place to show plotting functions.</p>
<p>All of the code that is added to the gallery will be executed each time besca’s documentation is built. This means that it is essential that the code is functional without any errors. This also makes these workflows a good sanity check for new versions of besca since any arising errors will come up during the build of the documentation.</p>
<p>The gallery has been subdivided into 4 sections:</p>
<ol class="arabic simple">
<li><p>plotting</p></li>
<li><p>preprocessing</p></li>
<li><p>tools</p></li>
<li><p>workflows</p></li>
</ol>
<p>Sections 1-3 are intended to more extensively document functions contained in these besca submodules. The fourth section workflows is intended for longer tutorial style examples outlining a certain process within single-cell analysis using besca.</p>
<p>All of the code necessary to generate gallery examples is contained within <code class="code docutils literal notranslate"><span class="pre">/besca/besca/examples/gallery_examples</span></code>. Each subfolder of this folder that contains a <code class="code docutils literal notranslate"><span class="pre">README.txt</span></code> denotes a subsection of the gallery. The text contained within the <code class="code docutils literal notranslate"><span class="pre">README.txt</span></code> will be rendered in the documentation above any examples contained within that folder.</p>
<div class="section" id="creating-a-gallery-example">
<span id="gallery-example"></span><h4>creating a gallery example<a class="headerlink" href="#creating-a-gallery-example" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><p>create a new python document called <code class="code docutils literal notranslate"><span class="pre">plot_NAME.py</span></code> in the correct subfolder of <code class="code docutils literal notranslate"><span class="pre">/besca/besca/examples/gallery_examples</span></code>. It is essential that this document begins with plot as otherwise the code contained will not be executed.</p></li>
<li><p>Begin your document with a DocString sections outlining what the example will illustrate (the DocString begings with <code class="code docutils literal notranslate"><span class="pre">&quot;&quot;&quot;</span></code> and ends with <code class="code docutils literal notranslate"><span class="pre">&quot;&quot;&quot;</span></code>). You should include a title which is underlined with equal signs (this will ensure that your example turns up in the gallery table of contents) and a brief description.</p></li>
<li><p>write your code as you would in a regular jupyter notebook. You can include additional text explaining steps or sub-headers by using the syntax outlined in the <a class="reference internal" href="#example-gallery-script"><span class="std std-ref">example gallery script</span></a>.</p></li>
</ol>
<p>Your example will now be included in the next build of the documentation. Plots and standardOut output will be shown at the top of the document.</p>
<p id="example-gallery-script"><strong>example gallery script</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Title of example</span>
<span class="sd">================</span>

<span class="sd">Here goes your description of the example</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1">#start writing some code</span>

<span class="c1">###############################################################################</span>
<span class="c1"># sub heading</span>
<span class="c1"># -----------</span>
<span class="c1">#</span>
<span class="c1"># Here you add additional text you want to include</span>
<span class="c1"># there is no need to finish this section with any specific syntax</span>
<span class="c1"># just leave a line empty after this comment</span>

<span class="c1"># more code</span>

<span class="c1">###############################################################################</span>
<span class="c1"># this is an additional text comment without a heading</span>
<span class="c1"># this is more of that comment</span>

<span class="c1"># more code</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="best-coding-practices">
<h2>best coding practices<a class="headerlink" href="#best-coding-practices" title="Permalink to this headline">¶</a></h2>
<div class="section" id="error-messages">
<h3>error messages<a class="headerlink" href="#error-messages" title="Permalink to this headline">¶</a></h3>
<p>If you wish a function to exit because a condition is not fullfilled and throw an error message please use the <code class="code docutils literal notranslate"><span class="pre">sys.exit()</span></code> function. If you pass a <code class="code docutils literal notranslate"><span class="pre">0</span></code> to the function then the system will interpret the function as having ended successfully. If you pass anything else, e.g. <code class="code docutils literal notranslate"><span class="pre">sys.exit('error</span> <span class="pre">message')</span></code> it will interpret the function as having ended unsuccessfully. The text passed to the function will be returned as an error statement. Using this convention ensures that the system notifies the user of an occured error (if you simply use a print statement the user might overlook it) and stops the jupyter notebook from continueing running. In general it is good practice to include several checks in your function to ensure that the output is as it is intended to be.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="besca_standard_pipeline.html" class="btn btn-neutral float-left" title="besca standard pipeline" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, BEDA

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>